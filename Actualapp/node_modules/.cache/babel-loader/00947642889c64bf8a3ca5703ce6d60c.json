{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { StorageManager } from './StorageManager';\n/**\n * @internalapi\n *\n * The PeerManager provides CRUD functionality for peer entities and persists them to the provided storage.\n */\n\nexport class PeerManager {\n  constructor(storage, key) {\n    this.storageManager = new StorageManager(storage, key);\n  }\n\n  hasPeer(publicKey) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return (yield this.getPeer(publicKey)) ? true : false;\n    });\n  }\n\n  getPeers() {\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.storageManager.getAll();\n    });\n  }\n\n  getPeer(publicKey) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.storageManager.getOne(peer => peer.publicKey === publicKey);\n    });\n  }\n\n  addPeer(peerInfo) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.storageManager.addOne(peerInfo, peer => peer.publicKey === peerInfo.publicKey);\n    });\n  }\n\n  removePeer(publicKey) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.storageManager.remove(peer => peer.publicKey === publicKey);\n    });\n  }\n\n  removePeers(publicKeys) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.storageManager.remove(peer => publicKeys.includes(peer.publicKey));\n    });\n  }\n\n  removeAllPeers() {\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.storageManager.removeAll();\n    });\n  }\n\n}","map":{"version":3,"sources":["../../../src/managers/PeerManager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,SAAS,cAAT,QAA0C,kBAA1C;AAEA;;;;AAIG;;AACH,OAAM,MAAO,WAAP,CAAkB;AAStB,EAAA,WAAA,CAAY,OAAZ,EAA8B,GAA9B,EAAoC;AAClC,SAAK,cAAL,GAAsB,IAAI,cAAJ,CAAmB,OAAnB,EAA4B,GAA5B,CAAtB;AACD;;AAEY,EAAA,OAAO,CAAC,SAAD,EAAkB;;AACpC,aAAO,CAAC,MAAM,KAAK,OAAL,CAAa,SAAb,CAAP,IAAkC,IAAlC,GAAyC,KAAhD;AACD,K;AAAA;;AAEY,EAAA,QAAQ,GAAA;;AACnB,aAAO,KAAK,cAAL,CAAoB,MAApB,EAAP;AACD,K;AAAA;;AAEY,EAAA,OAAO,CAAC,SAAD,EAAkB;;AACpC,aAAO,KAAK,cAAL,CAAoB,MAApB,CAA4B,IAAD,IAAU,IAAI,CAAC,SAAL,KAAmB,SAAxD,CAAP;AACD,K;AAAA;;AAEY,EAAA,OAAO,CAAC,QAAD,EAA6C;;AAC/D,aAAO,KAAK,cAAL,CAAoB,MAApB,CAA2B,QAA3B,EAAsC,IAAD,IAAU,IAAI,CAAC,SAAL,KAAmB,QAAQ,CAAC,SAA3E,CAAP;AACD,K;AAAA;;AAEY,EAAA,UAAU,CAAC,SAAD,EAAkB;;AACvC,aAAO,KAAK,cAAL,CAAoB,MAApB,CAA4B,IAAD,IAAU,IAAI,CAAC,SAAL,KAAmB,SAAxD,CAAP;AACD,K;AAAA;;AAEY,EAAA,WAAW,CAAC,UAAD,EAAqB;;AAC3C,aAAO,KAAK,cAAL,CAAoB,MAApB,CAA4B,IAAD,IAAU,UAAU,CAAC,QAAX,CAAoB,IAAI,CAAC,SAAzB,CAArC,CAAP;AACD,K;AAAA;;AAEY,EAAA,cAAc,GAAA;;AACzB,aAAO,KAAK,cAAL,CAAoB,SAApB,EAAP;AACD,K;AAAA;;AAvCqB","sourceRoot":"","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { StorageManager } from './StorageManager';\n/**\n * @internalapi\n *\n * The PeerManager provides CRUD functionality for peer entities and persists them to the provided storage.\n */\nexport class PeerManager {\n    constructor(storage, key) {\n        this.storageManager = new StorageManager(storage, key);\n    }\n    hasPeer(publicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return (yield this.getPeer(publicKey)) ? true : false;\n        });\n    }\n    getPeers() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.storageManager.getAll();\n        });\n    }\n    getPeer(publicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.storageManager.getOne((peer) => peer.publicKey === publicKey);\n        });\n    }\n    addPeer(peerInfo) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.storageManager.addOne(peerInfo, (peer) => peer.publicKey === peerInfo.publicKey);\n        });\n    }\n    removePeer(publicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.storageManager.remove((peer) => peer.publicKey === publicKey);\n        });\n    }\n    removePeers(publicKeys) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.storageManager.remove((peer) => publicKeys.includes(peer.publicKey));\n        });\n    }\n    removeAllPeers() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.storageManager.removeAll();\n        });\n    }\n}\n//# sourceMappingURL=PeerManager.js.map"]},"metadata":{},"sourceType":"module"}